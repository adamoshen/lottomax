[{"path":"index.html","id":"introduction","chapter":"Introduction","heading":"Introduction","text":"placeholder sentence.","code":""},{"path":"index.html","id":"session-info","chapter":"Introduction","heading":"Session info","text":"","code":"## [1] \"R version 4.0.3 (2020-10-10)\"##  package   * version date       lib source        \n##  bookdown    0.22    2021-04-22 [1] CRAN (R 4.0.5)\n##  bslib       0.2.5.1 2021-05-18 [1] CRAN (R 4.0.5)\n##  dplyr       1.0.5   2021-03-05 [1] CRAN (R 4.0.4)\n##  ggplot2     3.3.3   2020-12-30 [1] CRAN (R 4.0.4)\n##  glue        1.4.2   2020-08-27 [1] CRAN (R 4.0.4)\n##  lubridate   1.7.10  2021-02-26 [1] CRAN (R 4.0.4)\n##  purrr       0.3.4   2020-04-17 [1] CRAN (R 4.0.4)\n##  rmarkdown   2.9     2021-06-15 [1] CRAN (R 4.0.5)\n##  rvest       1.0.0   2021-03-09 [1] CRAN (R 4.0.4)\n##  stringr     1.4.0   2019-02-10 [1] CRAN (R 4.0.4)\n##  tibble      3.1.0   2021-02-25 [1] CRAN (R 4.0.4)\n##  tidyr       1.1.3   2021-03-03 [1] CRAN (R 4.0.4)\n## \n## [1] C:/Users/Adam/Documents/R/win-library/4.0\n## [2] C:/Program Files/R/R-4.0.3/library"},{"path":"obtaining-the-data.html","id":"obtaining-the-data","chapter":"1 Obtaining the data","heading":"1 Obtaining the data","text":"","code":""},{"path":"obtaining-the-data.html","id":"packages","chapter":"1 Obtaining the data","heading":"1.1 Packages","text":"","code":"\nlibrary(rvest)\nlibrary(dplyr)\nlibrary(purrr)"},{"path":"obtaining-the-data.html","id":"create-function-to-get-data-for-each-year","chapter":"1 Obtaining the data","heading":"1.2 Create function to get data for each year","text":"","code":""},{"path":"obtaining-the-data.html","id":"try-2021","chapter":"1 Obtaining the data","heading":"1.2.1 Try 2021","text":"","code":"\nurl2021 <- \"https://www.lottomaxnumbers.com/numbers/2021\"\n\nnums2021 <- read_html(url2021) %>%\n  html_element(css=\"table\") %>%\n  html_table(header=TRUE)"},{"path":"obtaining-the-data.html","id":"general-case","chapter":"1 Obtaining the data","heading":"1.2.2 General case","text":"","code":"\ngetnums <- function(year){\n  yearurl <- paste0(\"https://www.lottomaxnumbers.com/numbers/\", year)\n  \n  read_html(yearurl) %>%\n    html_element(css=\"table\") %>%\n    html_table(header=TRUE)\n}"},{"path":"obtaining-the-data.html","id":"get-the-data","chapter":"1 Obtaining the data","heading":"1.3 Get the data","text":"Just going row-bind .Names bit long… Rename .","code":"\ninput_years <- 2019:2021 %>%\n  set_names(., nm=.)\n\nlottomax <- map_dfr(input_years, getnums, .id=\"year\")\nlottomax <- lottomax %>%\n  rename(\"date\" = \"Result Date:\", \"result\" = \"Draw Result:\")\n\nsaveRDS(lottomax, \"./data/lottomax.RDS\", version=2)"},{"path":"cleaning-the-data.html","id":"cleaning-the-data","chapter":"2 Cleaning the data","heading":"2 Cleaning the data","text":"","code":""},{"path":"cleaning-the-data.html","id":"packages-1","chapter":"2 Cleaning the data","heading":"2.1 Packages","text":"","code":"\nlibrary(tidyverse)\nlibrary(lubridate)"},{"path":"cleaning-the-data.html","id":"load-the-data","chapter":"2 Cleaning the data","heading":"2.2 Load the data","text":"","code":"\nlottomax <- readRDS(\"./data/lottomax.RDS\")\n\nlottomax## # A tibble: 240 x 3\n##    year  date                                result                             \n##    <chr> <chr>                               <chr>                              \n##  1 2019  \"December 31 2019\\r\\n\\t\\t\\t\\t\\t\\t\\~ \"3\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n##  2 2019  \"December 27 2019\\r\\n\\t\\t\\t\\t\\t\\t\\~ \"13\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\~\n##  3 2019  \"December 24 2019\\r\\n\\t\\t\\t\\t\\t\\t\\~ \"1\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n##  4 2019  \"December 20 2019\\r\\n\\t\\t\\t\\t\\t\\t\\~ \"14\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\~\n##  5 2019  \"December 17 2019\"                  \"19\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\~\n##  6 2019  \"December 13 2019\"                  \"2\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n##  7 2019  \"December 10 2019\"                  \"7\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n##  8 2019  \"December 6 2019\"                   \"9\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n##  9 2019  \"December 3 2019\"                   \"2\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n## 10 2019  \"November 29 2019\"                  \"3\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t~\n## # ... with 230 more rows\nas.character(lottomax[1,2])## [1] \"December 31 2019\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tWith Max Millions!\"\nas.character(lottomax[1,3])## [1] \"3\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t4\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t11\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t19\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t30\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t39\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t40\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t25\""},{"path":"cleaning-the-data.html","id":"clean-the-data","chapter":"2 Cleaning the data","heading":"2.3 Clean the data","text":":date: remove non-space characters “Max Millions!” phraseNeed filter include dates May 14, 2019 (inclusive) since LottoMax\nchanged now 50 possible numbers instead 49result: remove non-space characters reformat column numbers\neasy access manipulateRemember last number “bonus” numberPreferable sort data tooA wide long version data set likely useful.Wide version analysis “number positions”Long version regular numerical summaries","code":"\nlottomax_clean <- lottomax %>%\n  # Convert `year` to factor\n  mutate(across(year, as.factor)) %>%\n  # Repair `date` to be an actual date\n  mutate(\n    # Remove excessive whitespace from `date` column\n    date = str_squish(date),\n    # Remove extra text\n    date = str_remove(date, pattern=\"With Max Millions!\"),\n    # Parse date text in mm/dd/yyyy format\n    date = mdy(date)\n  ) %>%\n  # Keep only rows that were drawn after May 14, 2019 (inclusive)\n  filter(date >= mdy(\"May 14 2019\")) %>%\n  # Remove excessive whitespace from `result` column\n  mutate(result = str_squish(result)) %>%\n  arrange(date)\n\nlottomax_clean## # A tibble: 221 x 3\n##    year  date       result                 \n##    <fct> <date>     <chr>                  \n##  1 2019  2019-05-14 9 24 27 33 40 44 48 41 \n##  2 2019  2019-05-17 4 21 23 39 40 42 50 17 \n##  3 2019  2019-05-21 2 3 8 18 31 39 50 33   \n##  4 2019  2019-05-24 9 11 15 19 20 35 41 28 \n##  5 2019  2019-05-28 4 9 10 26 27 29 37 14  \n##  6 2019  2019-05-31 6 29 34 39 42 47 50 22 \n##  7 2019  2019-06-04 7 19 22 28 34 41 42 12 \n##  8 2019  2019-06-07 4 8 13 23 25 33 39 17  \n##  9 2019  2019-06-11 18 23 28 32 34 44 50 29\n## 10 2019  2019-06-14 4 11 20 22 37 44 49 13 \n## # ... with 211 more rows"},{"path":"cleaning-the-data.html","id":"wide-version","chapter":"2 Cleaning the data","heading":"2.3.1 Wide version","text":"","code":"\nlottomax_wide <- lottomax_clean %>%\n  # Separate all numbers into their own columns\n  # Set `remove=FALSE` to check if we did it correctly\n  separate(result, into=c(glue::glue(\"num{1:7}\"), \"bonus\"), sep=\" \", remove=FALSE) %>%\n  # Conversion of strings to numbers that we can work with\n  mutate(across(c(num1:num7, bonus), parse_integer)) \n\nlottomax_wide## # A tibble: 221 x 11\n##    year  date       result        num1  num2  num3  num4  num5  num6  num7 bonus\n##    <fct> <date>     <chr>        <int> <int> <int> <int> <int> <int> <int> <int>\n##  1 2019  2019-05-14 9 24 27 33 ~     9    24    27    33    40    44    48    41\n##  2 2019  2019-05-17 4 21 23 39 ~     4    21    23    39    40    42    50    17\n##  3 2019  2019-05-21 2 3 8 18 31~     2     3     8    18    31    39    50    33\n##  4 2019  2019-05-24 9 11 15 19 ~     9    11    15    19    20    35    41    28\n##  5 2019  2019-05-28 4 9 10 26 2~     4     9    10    26    27    29    37    14\n##  6 2019  2019-05-31 6 29 34 39 ~     6    29    34    39    42    47    50    22\n##  7 2019  2019-06-04 7 19 22 28 ~     7    19    22    28    34    41    42    12\n##  8 2019  2019-06-07 4 8 13 23 2~     4     8    13    23    25    33    39    17\n##  9 2019  2019-06-11 18 23 28 32~    18    23    28    32    34    44    50    29\n## 10 2019  2019-06-14 4 11 20 22 ~     4    11    20    22    37    44    49    13\n## # ... with 211 more rows\nsaveRDS(lottomax_wide, \"./data/lottomax_wide.RDS\", version=2)"},{"path":"cleaning-the-data.html","id":"long-version","chapter":"2 Cleaning the data","heading":"2.3.2 Long version","text":"","code":"\nlottomax_long <- lottomax_wide %>%\n  pivot_longer(\n    cols = c(num1:num7, bonus),\n    names_to = \"role\",\n    values_to = \"number\"\n  )\n\nlottomax_long## # A tibble: 1,768 x 5\n##    year  date       result                 role  number\n##    <fct> <date>     <chr>                  <chr>  <int>\n##  1 2019  2019-05-14 9 24 27 33 40 44 48 41 num1       9\n##  2 2019  2019-05-14 9 24 27 33 40 44 48 41 num2      24\n##  3 2019  2019-05-14 9 24 27 33 40 44 48 41 num3      27\n##  4 2019  2019-05-14 9 24 27 33 40 44 48 41 num4      33\n##  5 2019  2019-05-14 9 24 27 33 40 44 48 41 num5      40\n##  6 2019  2019-05-14 9 24 27 33 40 44 48 41 num6      44\n##  7 2019  2019-05-14 9 24 27 33 40 44 48 41 num7      48\n##  8 2019  2019-05-14 9 24 27 33 40 44 48 41 bonus     41\n##  9 2019  2019-05-17 4 21 23 39 40 42 50 17 num1       4\n## 10 2019  2019-05-17 4 21 23 39 40 42 50 17 num2      21\n## # ... with 1,758 more rows\nsaveRDS(lottomax_long, \"./data/lottomax_long.RDS\", version=2)"},{"path":"visualisation.html","id":"visualisation","chapter":"3 Visualisation","heading":"3 Visualisation","text":"","code":""},{"path":"visualisation.html","id":"packages-2","chapter":"3 Visualisation","heading":"3.1 Packages","text":"","code":"\nlibrary(tidyverse)\nlibrary(lubridate)"},{"path":"visualisation.html","id":"load-the-data-1","chapter":"3 Visualisation","heading":"3.2 Load the data","text":"","code":"\nlottomax_wide <- readRDS(\"./data/lottomax_wide.RDS\")\n\nlottomax_wide## # A tibble: 221 x 11\n##    year  date       result        num1  num2  num3  num4  num5  num6  num7 bonus\n##    <fct> <date>     <chr>        <int> <int> <int> <int> <int> <int> <int> <int>\n##  1 2019  2019-05-14 9 24 27 33 ~     9    24    27    33    40    44    48    41\n##  2 2019  2019-05-17 4 21 23 39 ~     4    21    23    39    40    42    50    17\n##  3 2019  2019-05-21 2 3 8 18 31~     2     3     8    18    31    39    50    33\n##  4 2019  2019-05-24 9 11 15 19 ~     9    11    15    19    20    35    41    28\n##  5 2019  2019-05-28 4 9 10 26 2~     4     9    10    26    27    29    37    14\n##  6 2019  2019-05-31 6 29 34 39 ~     6    29    34    39    42    47    50    22\n##  7 2019  2019-06-04 7 19 22 28 ~     7    19    22    28    34    41    42    12\n##  8 2019  2019-06-07 4 8 13 23 2~     4     8    13    23    25    33    39    17\n##  9 2019  2019-06-11 18 23 28 32~    18    23    28    32    34    44    50    29\n## 10 2019  2019-06-14 4 11 20 22 ~     4    11    20    22    37    44    49    13\n## # ... with 211 more rows\nlottomax_long <- readRDS(\"./data/lottomax_long.RDS\")\n\nlottomax_long## # A tibble: 1,768 x 5\n##    year  date       result                 role  number\n##    <fct> <date>     <chr>                  <chr>  <int>\n##  1 2019  2019-05-14 9 24 27 33 40 44 48 41 num1       9\n##  2 2019  2019-05-14 9 24 27 33 40 44 48 41 num2      24\n##  3 2019  2019-05-14 9 24 27 33 40 44 48 41 num3      27\n##  4 2019  2019-05-14 9 24 27 33 40 44 48 41 num4      33\n##  5 2019  2019-05-14 9 24 27 33 40 44 48 41 num5      40\n##  6 2019  2019-05-14 9 24 27 33 40 44 48 41 num6      44\n##  7 2019  2019-05-14 9 24 27 33 40 44 48 41 num7      48\n##  8 2019  2019-05-14 9 24 27 33 40 44 48 41 bonus     41\n##  9 2019  2019-05-17 4 21 23 39 40 42 50 17 num1       4\n## 10 2019  2019-05-17 4 21 23 39 40 42 50 17 num2      21\n## # ... with 1,758 more rows"},{"path":"visualisation.html","id":"visualise-the-data","chapter":"3 Visualisation","heading":"3.3 Visualise the data","text":"Interests:","code":""}]
