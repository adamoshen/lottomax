<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Numerical and graphical summaries | LottoMax</title>
  <meta name="description" content="3 Numerical and graphical summaries | LottoMax" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Numerical and graphical summaries | LottoMax" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Numerical and graphical summaries | LottoMax" />
  
  
  

<meta name="author" content="Adam Shen" />


<meta name="date" content="2021-08-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleaning-the-data.html"/>

<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="utils/prismr.js"></script>




<link rel="stylesheet" href="css/gitbook.css" type="text/css" />
<link rel="stylesheet" href="css/adam-light.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#session-info"><i class="fa fa-check"></i>Session info</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html"><i class="fa fa-check"></i><b>1</b> Obtaining the data</a>
<ul>
<li class="chapter" data-level="1.1" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html#packages"><i class="fa fa-check"></i><b>1.1</b> Packages</a></li>
<li class="chapter" data-level="1.2" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html#create-function-to-get-data-for-each-year"><i class="fa fa-check"></i><b>1.2</b> Create function to get data for each year</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html#try-2021"><i class="fa fa-check"></i><b>1.2.1</b> Try 2021</a></li>
<li class="chapter" data-level="1.2.2" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html#general-case"><i class="fa fa-check"></i><b>1.2.2</b> General case</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="obtaining-the-data.html"><a href="obtaining-the-data.html#get-the-data"><i class="fa fa-check"></i><b>1.3</b> Get the data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html"><i class="fa fa-check"></i><b>2</b> Cleaning the data</a>
<ul>
<li class="chapter" data-level="2.1" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html#packages-1"><i class="fa fa-check"></i><b>2.1</b> Packages</a></li>
<li class="chapter" data-level="2.2" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html#load-the-data"><i class="fa fa-check"></i><b>2.2</b> Load the data</a></li>
<li class="chapter" data-level="2.3" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html#clean-the-data"><i class="fa fa-check"></i><b>2.3</b> Clean the data</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html#wide-version"><i class="fa fa-check"></i><b>2.3.1</b> Wide version</a></li>
<li class="chapter" data-level="2.3.2" data-path="cleaning-the-data.html"><a href="cleaning-the-data.html#long-version"><i class="fa fa-check"></i><b>2.3.2</b> Long version</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html"><i class="fa fa-check"></i><b>3</b> Numerical and graphical summaries</a>
<ul>
<li class="chapter" data-level="3.1" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#packages-2"><i class="fa fa-check"></i><b>3.1</b> Packages</a></li>
<li class="chapter" data-level="3.2" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#plan"><i class="fa fa-check"></i><b>3.2</b> Plan</a></li>
<li class="chapter" data-level="3.3" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#wide-data"><i class="fa fa-check"></i><b>3.3</b> Wide data</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#most-frequent-minimums-and-maximums---overall"><i class="fa fa-check"></i><b>3.3.1</b> Most frequent minimums and maximums - overall</a></li>
<li class="chapter" data-level="3.3.2" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#which-numbers-have-never-been-in-the-minimummaximums"><i class="fa fa-check"></i><b>3.3.2</b> Which numbers have NEVER been in the minimum/maximums?</a></li>
<li class="chapter" data-level="3.3.3" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#most-frequent-minimum-and-maximum---by-year"><i class="fa fa-check"></i><b>3.3.3</b> Most frequent minimum and maximum - by year</a></li>
<li class="chapter" data-level="3.3.4" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#summary-statistics-for-minimum-and-maximum"><i class="fa fa-check"></i><b>3.3.4</b> Summary statistics for minimum and maximum</a></li>
<li class="chapter" data-level="3.3.5" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#distribution-of-the-sum-of-the-seven-main-numbers"><i class="fa fa-check"></i><b>3.3.5</b> Distribution of the sum of the seven main numbers</a></li>
<li class="chapter" data-level="3.3.6" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#sum-of-the-seven-main-numbers-with-respect-to-time"><i class="fa fa-check"></i><b>3.3.6</b> Sum of the seven main numbers with respect to time</a></li>
<li class="chapter" data-level="3.3.7" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#minimums-and-maximums-over-time"><i class="fa fa-check"></i><b>3.3.7</b> Minimums and maximums over time</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#long-data"><i class="fa fa-check"></i><b>3.4</b> Long data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="numerical-and-graphical-summaries.html"><a href="numerical-and-graphical-summaries.html#most-frequent-minimums-and-maximums---overall-1"><i class="fa fa-check"></i><b>3.4.1</b> Most frequent minimums and maximums - overall</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">LottoMax</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="numerical-and-graphical-summaries" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Numerical and graphical summaries</h1>
<div id="packages-2" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Packages</h2>
<pre class="r language-r"><code>library(tidyverse)
library(lubridate)
theme_set(theme_bw())</code></pre>
</div>
<div id="plan" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Plan</h2>
<p>From the wide data:</p>
<ul>
<li>Most frequent minimum (<code>num1</code>), most frequent maximum (<code>num7</code>)</li>
<li>Summary statistics for the minimum and maximum</li>
<li>Distribution of the sum of the seven main numbers</li>
<li>Sum of the seven main numbers with respect to time</li>
</ul>
<p>From the long data:</p>
<ul>
<li>For the sake of illustration, repeat everything that was done for the wide data</li>
<li>Distribution of numbers for each slot, i.e. <code>num1</code>, <code>num2</code>, ..., <code>bonus</code></li>
<li>Most frequent numbers in a given month</li>
<li>Co-occurrences</li>
</ul>
</div>
<div id="wide-data" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Wide data</h2>
<pre class="r language-r"><code>lottomax_wide &lt;- readRDS(&quot;./data/lottomax_wide.RDS&quot;)

lottomax_wide</code></pre>
<pre class="language-r"><code>## # A tibble: 227 x 11
##    year  date       result        num1  num2  num3  num4  num5  num6  num7 bonus
##    &lt;fct&gt; &lt;date&gt;     &lt;chr&gt;        &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 2019  2019-05-14 9 24 27 33 ~     9    24    27    33    40    44    48    41
##  2 2019  2019-05-17 4 21 23 39 ~     4    21    23    39    40    42    50    17
##  3 2019  2019-05-21 2 3 8 18 31~     2     3     8    18    31    39    50    33
##  4 2019  2019-05-24 9 11 15 19 ~     9    11    15    19    20    35    41    28
##  5 2019  2019-05-28 4 9 10 26 2~     4     9    10    26    27    29    37    14
##  6 2019  2019-05-31 6 29 34 39 ~     6    29    34    39    42    47    50    22
##  7 2019  2019-06-04 7 19 22 28 ~     7    19    22    28    34    41    42    12
##  8 2019  2019-06-07 4 8 13 23 2~     4     8    13    23    25    33    39    17
##  9 2019  2019-06-11 18 23 28 32~    18    23    28    32    34    44    50    29
## 10 2019  2019-06-14 4 11 20 22 ~     4    11    20    22    37    44    49    13
## # ... with 217 more rows</code></pre>
<div id="most-frequent-minimums-and-maximums---overall" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Most frequent minimums and maximums - overall</h3>
<pre class="r language-r"><code>min_counts &lt;- lottomax_wide %&gt;%
  count(num1) %&gt;%
  arrange(desc(n))

head(min_counts)</code></pre>
<pre class="language-r"><code>## # A tibble: 6 x 2
##    num1     n
##   &lt;int&gt; &lt;int&gt;
## 1     1    31
## 2     2    24
## 3     3    24
## 4     5    24
## 5     4    21
## 6     9    16</code></pre>
<p>The drawn numbers should be treated as factors when plotting since these are discrete values. Note
that they are converted to factor when plotting, but we are not modifying the supplied data. If
the drawn numbers were instead treated as continuous values, the axis would start at zero which just
look "off".</p>
<p>The bar graph will make use of <code>geom_col</code> rather than <code>geom_bar</code> since we have the counts already.
<code>geom_bar</code> would be used when we need to obtain counts from the data before making the bars.</p>
<pre class="r language-r"><code>ggplot(min_counts, aes(x=factor(num1), y=n))+
  geom_col()+
  labs(x=&quot;Minimum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-5-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>Although it would be preferable to reduce some of the vertical gridlines, we should note that some
numbers have actually never occurred as the minimum, i.e. the numbers appearing on the x-axis are not
consecutive. If we wish to reduce some of the gridlines, we need to make sure that all numbers
from 1 to 50 are appearing on the x-axis.</p>
<p>We can fill in the unobserved numbers using the <code>complete</code> function found within the <code>tidyr</code> package.</p>
<pre class="r language-r"><code>min_counts_complete &lt;- min_counts %&gt;%
  complete(
    num1 = full_seq(1:50, period=1),
    fill = list(n = 0)
  )</code></pre>
<pre class="r language-r"><code>ggplot(min_counts_complete, aes(x=factor(num1), y=n))+
  geom_col()+
  labs(x=&quot;Minimum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-7-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>Now reusing the same graph as above, let's reduce the number of vertical gridlines.</p>
<pre class="r language-r"><code>ggplot(min_counts_complete, aes(x=factor(num1), y=n))+
  geom_col()+
  scale_x_discrete(breaks=factor(seq(1, 50, 7)))+
  labs(x=&quot;Minimum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-8-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>Realistically, the largest possible minimum number that could occur would be 44, resulting
in a draw of seven consecutive numbers (44 to 50). This means that we could actually shorten the
x-axis to only go up to 44.</p>
<p>Now let's repeat the same visulisation process for the maximum number of each draw.</p>
<pre class="r language-r"><code>max_counts &lt;- lottomax_wide %&gt;%
  count(num7) %&gt;%
  arrange(desc(n))

head(max_counts)</code></pre>
<pre class="language-r"><code>## # A tibble: 6 x 2
##    num7     n
##   &lt;int&gt; &lt;int&gt;
## 1    50    32
## 2    49    25
## 3    48    24
## 4    46    21
## 5    44    18
## 6    47    18</code></pre>
<pre class="r language-r"><code>ggplot(max_counts, aes(x=factor(num7), y=n))+
  geom_col()+
  labs(x=&quot;Maximum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-10-1.png" width="864" style="display: block; margin: auto;" /></p>
<pre class="r language-r"><code>max_counts_complete &lt;- max_counts %&gt;%
  complete(
    num7 = full_seq(1:50, period=1),
    fill = list(n = 0)
  )</code></pre>
<pre class="r language-r"><code>ggplot(max_counts_complete, aes(x=factor(num7), y=n))+
  geom_col()+
  scale_x_discrete(breaks=factor(seq(1, 50, 7)))+
  labs(x=&quot;Maximum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-12-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>Similar to the previous discussion, the smallest possible maximum number that could occur would be
7, resulting in a draw of seven consecutive numbers (1 to 7). This means that the x-axis could be
shorted to begin at 7.</p>
</div>
<div id="which-numbers-have-never-been-in-the-minimummaximums" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Which numbers have NEVER been in the minimum/maximums?</h3>
<p>(Keeping in mind that we have data for roughly half of 2019, the full data for 2020, and roughly
half of 2021.)</p>
<p>Using the "completed" data, we can obtain the numbers which have never been the minimum/maximum by
filtering for numbers with a count of zero.</p>
<pre class="r language-r"><code>never_min &lt;- min_counts_complete %&gt;%
  filter(n==0) %&gt;%
  pull(num1)

never_min</code></pre>
<pre class="language-r"><code>##  [1] 16 24 27 28 29 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50</code></pre>
<p>It is unsurprising that 44 has never been the minimum, since if 44 ever was the minimum, the seven
winning numbers would be the consecutive numbers between 44 and 50.</p>
<pre class="r language-r"><code>never_max &lt;- max_counts_complete %&gt;%
  filter(n==0) %&gt;%
  pull(num7)

never_max</code></pre>
<pre class="language-r"><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 21 22 23 24 26 30</code></pre>
<p>From these results, it looks like we should pick at least one number between 1 and 15 (and or even
between 17 and 23), and at least one number between 30 and 50!</p>
</div>
<div id="most-frequent-minimum-and-maximum---by-year" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> Most frequent minimum and maximum - by year</h3>
<pre class="r language-r"><code>min_by_year &lt;- lottomax_wide %&gt;%
  group_by(year, num1) %&gt;%
  summarise(freq=n(), .groups=&quot;drop&quot;) %&gt;%
  group_by(year) %&gt;%
  slice_max(order_by=freq, n=3) %&gt;%
  ungroup()

min_by_year</code></pre>
<pre class="language-r"><code>## # A tibble: 11 x 3
##    year   num1  freq
##    &lt;fct&gt; &lt;int&gt; &lt;int&gt;
##  1 2019      1    10
##  2 2019      4     8
##  3 2019      3     7
##  4 2020      3    14
##  5 2020      5    13
##  6 2020      1    11
##  7 2020      2    11
##  8 2021      1    10
##  9 2021      2     8
## 10 2021      5     5
## 11 2021      6     5</code></pre>
<pre class="r language-r"><code>ggplot(min_by_year, aes(x=factor(num1), y=freq))+
  geom_col()+
  facet_wrap(~year, scales=&quot;free_x&quot;)+
  labs(x=&quot;Minimum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-16-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>The x-axis of this plot is ordered by the minimum number drawn and not by the counts. But we
<em>can</em> order by counts if we want to. We will make use of the functions <code>reorder_within</code> and
<code>scale_x_reordered</code> from the <code>tidytext</code> package.</p>
<pre class="r language-r"><code>min_by_year %&gt;%
  mutate(num1_reordered = tidytext::reorder_within(num1, by=desc(freq), within=year)) %&gt;%
  ggplot(aes(x=num1_reordered, y=freq))+
  geom_col()+
  tidytext::scale_x_reordered()+
  facet_wrap(~year, scales=&quot;free_x&quot;)+
  labs(x=&quot;Minimum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-17-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>The above can be repeated using the maximum number.</p>
<pre class="r language-r"><code>max_by_year &lt;- lottomax_wide %&gt;%
  group_by(year, num7) %&gt;%
  summarise(freq=n(), .groups=&quot;drop&quot;) %&gt;%
  group_by(year) %&gt;%
  slice_max(order_by=freq, n=3) %&gt;%
  ungroup()

max_by_year</code></pre>
<pre class="language-r"><code>## # A tibble: 10 x 3
##    year   num7  freq
##    &lt;fct&gt; &lt;int&gt; &lt;int&gt;
##  1 2019     50    13
##  2 2019     44     7
##  3 2019     43     6
##  4 2019     46     6
##  5 2020     48    14
##  6 2020     49    14
##  7 2020     50    12
##  8 2021     47     7
##  9 2021     49     7
## 10 2021     50     7</code></pre>
<pre class="r language-r"><code>ggplot(max_by_year, aes(x=factor(num7), y=freq))+
  geom_col()+
  facet_wrap(~year, scales=&quot;free_x&quot;)+
  labs(x=&quot;Maximum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-19-1.png" width="864" style="display: block; margin: auto;" /></p>
<pre class="r language-r"><code>max_by_year %&gt;%
  mutate(num7_reordered = tidytext::reorder_within(num7, by=desc(freq), within=year)) %&gt;%
  ggplot(aes(x=num7_reordered, y=freq))+
  geom_col()+
  tidytext::scale_x_reordered()+
  facet_wrap(~year, scales=&quot;free_x&quot;)+
  labs(x=&quot;Maximum number&quot;, y=&quot;Count&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-20-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
<div id="summary-statistics-for-minimum-and-maximum" class="section level3" number="3.3.4">
<h3><span class="header-section-number">3.3.4</span> Summary statistics for minimum and maximum</h3>
<pre class="r language-r"><code>lottomax_wide %&gt;%
  select(num1, num7) %&gt;%
  sapply(summary)</code></pre>
<pre class="language-r"><code>##              num1     num7
## Min.     1.000000 20.00000
## 1st Qu.  3.000000 42.00000
## Median   5.000000 46.00000
## Mean     6.709251 44.44493
## 3rd Qu.  9.000000 48.50000
## Max.    30.000000 50.00000</code></pre>
</div>
<div id="distribution-of-the-sum-of-the-seven-main-numbers" class="section level3" number="3.3.5">
<h3><span class="header-section-number">3.3.5</span> Distribution of the sum of the seven main numbers</h3>
<pre class="r language-r"><code>draw_sums &lt;- lottomax_wide %&gt;%
  select(date, contains(&quot;num&quot;)) %&gt;%
  rowwise() %&gt;%
  mutate(total = sum(c_across(contains(&quot;num&quot;))))

draw_sums</code></pre>
<pre class="language-r"><code>## # A tibble: 227 x 9
## # Rowwise: 
##    date        num1  num2  num3  num4  num5  num6  num7 total
##    &lt;date&gt;     &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1 2019-05-14     9    24    27    33    40    44    48   225
##  2 2019-05-17     4    21    23    39    40    42    50   219
##  3 2019-05-21     2     3     8    18    31    39    50   151
##  4 2019-05-24     9    11    15    19    20    35    41   150
##  5 2019-05-28     4     9    10    26    27    29    37   142
##  6 2019-05-31     6    29    34    39    42    47    50   247
##  7 2019-06-04     7    19    22    28    34    41    42   193
##  8 2019-06-07     4     8    13    23    25    33    39   145
##  9 2019-06-11    18    23    28    32    34    44    50   229
## 10 2019-06-14     4    11    20    22    37    44    49   187
## # ... with 217 more rows</code></pre>
<pre class="r language-r"><code>ggplot(draw_sums, aes(x=total))+
  geom_histogram(bins=9)+
  labs(x=&quot;Sum of seven main numbers&quot;, y=&quot;Frequency&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-22-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
<div id="sum-of-the-seven-main-numbers-with-respect-to-time" class="section level3" number="3.3.6">
<h3><span class="header-section-number">3.3.6</span> Sum of the seven main numbers with respect to time</h3>
<p>I want to make an additional variable so that it will be easier to distinguish neighbouring months.
Two colours will be used — one for even months and one for odd months.</p>
<pre class="r language-r"><code>draw_sums &lt;- draw_sums %&gt;%
  mutate(month_colour = factor(month(date) %% 2))</code></pre>
<pre class="r language-r"><code>ggplot(draw_sums, aes(x=date, y=total))+
  geom_point(aes(colour=month_colour), show.legend=FALSE) +
  geom_line(alpha=0.5)+
  scale_colour_manual(values=c(&quot;#07a707&quot;, &quot;#4000c4&quot;))+
  scale_x_date(date_breaks=&quot;3 months&quot;, date_labels=&quot;%b &#39;%y&quot;)+
  labs(x=&quot;Date&quot;, y=&quot;Sum of seven main numbers&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-24-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>This graph looks a bit squished. Might look better if we facet by year.</p>
<pre class="r language-r"><code>draw_sums &lt;- draw_sums %&gt;%
  mutate(year = factor(year(date)))

ggplot(draw_sums, aes(x=date, y=total))+
  geom_point(aes(colour=month_colour), show.legend=FALSE)+
  geom_line(alpha=0.5)+
  scale_colour_manual(values=c(&quot;#07a707&quot;, &quot;#4000c4&quot;))+
  scale_x_date(date_breaks=&quot;3 months&quot;, date_labels=&quot;%b&quot;)+
  facet_wrap(~year, nrow=3, scales=&quot;free_x&quot;)+
  labs(x=&quot;Date&quot;, y=&quot;Sum of seven main numbers&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-25-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
<div id="minimums-and-maximums-over-time" class="section level3" number="3.3.7">
<h3><span class="header-section-number">3.3.7</span> Minimums and maximums over time</h3>
<pre class="r language-r"><code>min_max &lt;- lottomax_wide %&gt;%
  select(year, date, num1, num7) %&gt;%
  mutate(month_colour = factor(month(date) %% 2))

ggplot(min_max, aes(x=date))+
  geom_point(aes(y=num1, colour=month_colour), show.legend=FALSE)+
  geom_line(aes(y=num1), alpha=0.5)+
  geom_point(aes(y=num7, colour=month_colour), show.legend=FALSE)+
  geom_line(aes(y=num7), alpha=0.5)+
  scale_colour_manual(values=c(&quot;#07a707&quot;, &quot;#4000c4&quot;))+
  scale_x_date(date_breaks=&quot;3 months&quot;, date_labels=&quot;%b &#39;%y&quot;)+
  labs(x=&quot;Date&quot;, y=&quot;Number drawn&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-26-1.png" width="864" style="display: block; margin: auto;" /></p>
<p>Again, this looks a bit squished. Facet by year.</p>
<pre class="r language-r"><code>ggplot(min_max, aes(x=date))+
  geom_point(aes(y=num1, colour=month_colour), show.legend=FALSE)+
  geom_line(aes(y=num1), alpha=0.5)+
  geom_point(aes(y=num7, colour=month_colour), show.legend=FALSE)+
  geom_line(aes(y=num7), alpha=0.5)+
  scale_colour_manual(values=c(&quot;#07a707&quot;, &quot;#4000c4&quot;))+
  scale_x_date(date_breaks=&quot;3 months&quot;, date_labels=&quot;%b&quot;)+
  facet_wrap(~year, nrow=3, scales=&quot;free_x&quot;)+
  labs(x=&quot;Date&quot;, y=&quot;Number drawn&quot;, caption=&quot;Minimum and maximum number drawn by date&quot;)</code></pre>
<p><img src="03-summaries_files/figure-html/unnamed-chunk-27-1.png" width="864" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="long-data" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Long data</h2>
<pre class="r language-r"><code>lottomax_long &lt;- readRDS(&quot;./data/lottomax_long.RDS&quot;)

lottomax_long</code></pre>
<pre class="language-r"><code>## # A tibble: 1,816 x 5
##    year  date       result                 role  number
##    &lt;fct&gt; &lt;date&gt;     &lt;chr&gt;                  &lt;chr&gt;  &lt;int&gt;
##  1 2019  2019-05-14 9 24 27 33 40 44 48 41 num1       9
##  2 2019  2019-05-14 9 24 27 33 40 44 48 41 num2      24
##  3 2019  2019-05-14 9 24 27 33 40 44 48 41 num3      27
##  4 2019  2019-05-14 9 24 27 33 40 44 48 41 num4      33
##  5 2019  2019-05-14 9 24 27 33 40 44 48 41 num5      40
##  6 2019  2019-05-14 9 24 27 33 40 44 48 41 num6      44
##  7 2019  2019-05-14 9 24 27 33 40 44 48 41 num7      48
##  8 2019  2019-05-14 9 24 27 33 40 44 48 41 bonus     41
##  9 2019  2019-05-17 4 21 23 39 40 42 50 17 num1       4
## 10 2019  2019-05-17 4 21 23 39 40 42 50 17 num2      21
## # ... with 1,806 more rows</code></pre>
<div id="most-frequent-minimums-and-maximums---overall-1" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Most frequent minimums and maximums - overall</h3>
<pre class="r language-r"><code>min_counts &lt;- lottomax_long %&gt;%
  filter(role == &quot;num1&quot;) %&gt;%
  count(number) %&gt;%
  arrange(desc(n))</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleaning-the-data.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false,
"info": false
});
});
</script>

</body>

</html>
